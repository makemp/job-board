# production:
#   periodic_cleanup:
#     class: CleanSoftDeletedRecordsJob
#     queue: background
#     args: [ 1000, { batch_size: 500 } ]
#     schedule: every hour
#   periodic_command:
#     command: "SoftDeletedRecord.due.delete_all"
#     priority: 2
#     schedule: at 5am every day


production:
  expire_offers:
    class: JobOfferExpirationJob
    schedule: every 1 hour

# Job Alerts Cron Jobs
  job_alerts_daily:
    class: JobAlertsJob
    cron: "0 1 * * 2-7"  # Every day at 1 AM except Monday (Tuesday-Sunday)
    args:
      [{frequency: "daily"}]

  job_alerts_weekly:
    class: JobAlertsJob
    cron: "0 1 * * 1"  # Every Monday at 1 AM
    guard: "Date.current.day > 7"  # Skip first Monday of the month
    args:
      [frequency: "weekly"]

  job_alerts_monthly:
    class: JobAlertsJob
    cron: "0 1 * * 1"  # Monday at 1 AM
    guard: "Date.current.day <= 7"  # Only first Monday of the month
    args:
      [frequency: "monthly"]

  sitemap_refresh:
    command: "rake -s sitemap:refresh:no_ping"
    schedule: "at 2am every day"